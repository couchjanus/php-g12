{"version":3,"sources":["js/app.functions.js","js/Product.js","js/app.js","js/index.js"],"names":["raf","fn","window","requestAnimationFrame","fadeOut","item","classList","add","addEventListener","hendler","style","display","remove","removeEventListener","fadeIn","makeProductItem","$template","product","querySelector","setAttribute","id","textContent","name","picture","price","updateTotal","quantities","total","$cartTotal","document","items","children","Array","from","forEach","parseFloat","Math","round","toFixed","saveCart","shoppingCart","localStorage","JSON","stringify","console","log","productInCart","template","Id","Quantity","Product","Price","trim","substring","Picture","showCart","length","innerHTML","getElementById","content","append","importNode","openCart","closeCart","getElement","e","element","parentNode","getAttribute","quantity","value","_translate","img","offset","rect","getBoundingClientRect","elements","push","left","top","join","modal","openModal","closeModal","onclick","event","target","options","selectedIndex","fetch","headers","method","body","description","then","res","json","parse","response","status","data","index","querySelectorAll","elem","val","parseInt","previousElementSibling","nextElementSibling","getElementsByClassName","buy","cancel","cart","o","i","imgToDrag","imgClone","cloneNode","appendChild","transform","animate","duration","onfinish","removeItem","matches","splice","indexOf","find","x","catch","err"],"mappings":";;;;;;;AAAA,aAEA,SAASA,EAAIC,GACTC,OAAOC,sBAAsB,WACzBD,OAAOC,sBAAsB,WACzBF,QAMZ,SAASG,EAAQC,GAMbA,EAAKC,UAAUC,IAAI,eACnBF,EAAKG,iBAAiB,gBANR,SAAVC,IACAJ,EAAKK,MAAMC,QAAU,OACrBN,EAAKC,UAAUM,OAAO,eACtBP,EAAKQ,oBAAoB,gBAAiBJ,KAMlD,SAASK,EAAOT,GAKZA,EAAKK,MAAMC,QAAU,QACrBN,EAAKC,UAAUC,IAAI,QAEnBP,EAAI,WACAK,EAAKC,UAAUC,IAAI,gBACnBF,EAAKC,UAAUM,OAAO,UAG1BP,EAAKG,iBAAiB,gBAZR,SAAVC,IACAJ,EAAKC,UAAUM,OAAO,eACtBP,EAAKQ,oBAAoB,gBAAiBJ,KAalD,SAASM,EAAgBC,EAAWC,GAOzBD,OANPA,EAAUE,cAAc,YAAYC,aAAa,YAAaF,EAAQG,IACtEJ,EAAUE,cAAc,iBAAiBG,YAAcJ,EAAQK,KAC/DN,EAAUE,cAAc,OAAOC,aAAa,MAAO,UAAWF,EAAQM,SACtEP,EAAUE,cAAc,OAAOC,aAAa,MAAOF,EAAQK,MAC3DN,EAAUE,cAAc,mBAAmBC,aAAa,MAAOF,EAAQK,MACvEN,EAAUE,cAAc,kBAAkBG,YAAc,IAAIJ,EAAQO,MAC7DR,EAGX,SAASS,IACDC,IACJC,EAAQ,EACRC,EAAaC,SAASX,cAAc,oBACpCY,EAAQD,SAASX,cAAc,eAAea,SAC9CC,MAAMC,KAAKH,GAAOI,QAAQ,SAAU7B,GAChCsB,GAASQ,WAAW9B,EAAKa,cAAc,gBAAgBG,eAE3DO,EAAWP,YAAcc,WAAWC,KAAKC,MAAc,IAARV,GAAe,KAAKW,QAAQ,GAK/E,SAASC,EAASC,GAEdC,aAAaD,aAAeE,KAAKC,UAAUH,GAC3CI,QAAQC,IAAIH,KAAKC,UAAUH,IAG/B,SAASM,EAAcC,EAAU1C,GAOtB0C,OANPA,EAAS7B,cAAc,kBAAkBC,aAAa,KAAMd,EAAK2C,IACjED,EAAS7B,cAAc,kBAAkBG,YAAchB,EAAK4C,SAC5DF,EAAS7B,cAAc,cAAcG,YAAchB,EAAK6C,QACxDH,EAAS7B,cAAc,eAAeG,YAAchB,EAAK8C,MACzDJ,EAAS7B,cAAc,gBAAgBG,YAAcc,WAAW9B,EAAK4C,UAAYd,WAAW9B,EAAK8C,MAAMC,OAAOC,UAAU,IACxHN,EAAS7B,cAAc,iBAAiBC,aAAa,MAAOd,EAAKiD,SAC1DP,EAGX,SAASQ,EAASf,GACa,GAAvBA,EAAagB,QAIjB3B,SAASX,cAAc,eAAeuC,UAAY,GAClDjB,EAAaN,QAAQ,SAAU7B,GACvB0C,IAAAA,EAAWlB,SAAS6B,eAAe,YAAYC,QACnDb,EAAcC,EAAU1C,GACxBwB,SAASX,cAAc,eAAe0C,OAAO/B,SAASgC,WAAWf,EAAcC,EAAU1C,IAAO,MAEpGoB,KATImB,QAAQC,IAAI,gCAYpB,SAASiB,EAAStB,GACde,EAASf,GACTX,SAASX,cAAc,UAAUZ,UAAUC,IAAI,QAC/CsB,SAASX,cAAc,aAAaZ,UAAUC,IAAI,kBAGtD,SAASwD,IACLlC,SAASX,cAAc,UAAUZ,UAAUM,OAAO,QAClDiB,SAASX,cAAc,aAAaZ,UAAUM,OAAO,kBAGzD,SAASoD,EAAWC,GACZC,IAAAA,EAAUD,EAAEE,WAAWA,WAEpB,MAAA,CACH/C,GAAI8C,EAAQE,aAAa,aACzB5C,MAAMyC,EAAEE,WAAWjD,cAAc,kBAAkBG,YACnDC,KAAK4C,EAAQhD,cAAc,iBAAiBG,YAC5CgD,SAASH,EAAQhD,cAAc,aAAaoD,MAC5C/C,QAAQ2C,EAAQhD,cAAc,OAAOkD,aAAa,QAK1D,SAASG,EAAWC,GAAKC,IAAAA,EAAO,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,EACxBC,EAAOF,EAAIG,wBACXC,EAAW,CAAC,gBAGTA,OAFPA,EAASC,KAAKH,EAAKI,KAAOL,EAAS,OACnCG,EAASC,KAAKH,EAAKK,IAAMN,EAAS,SAC3BG,EAASI,KAAK,IACxB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA,EAAA,QAAA,OAAA,EAAA,QAAA,gBAAA,EAAA,QAAA,SAAA,EAAA,QAAA,UAAA,EAAA,QAAA,SAAA,EAAA,QAAA,WAAA,EAAA,QAAA,WAAA,EAAA,QAAA,YAAA;;ACxHD,aAiBK,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAPQ9B,IAAAA,EACT,SAAY9B,EAAAA,EAAIE,EAAME,EAAO6C,EAAU9C,GAAS,EAAA,KAAA,GACvCyB,KAAAA,GAAK5B,EACL8B,KAAAA,QAAU5B,EACV6B,KAAAA,MAAQ3B,EACRyB,KAAAA,SAAWoB,EACXf,KAAAA,QAAU/B,GAClB,QAAA,QAAA;;ACjBL,aAEA,IAAA,EAAA,QAAA,mBAYA,EAAA,QAAA,aAKA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,mDAAA,SAAA,EAAA,GAAA,GAAA,OAAA,YAAA,OAAA,IAAA,uBAAA,OAAA,UAAA,SAAA,KAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,CAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,EAAA,QAAA,EAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,IAAA,WAEUP,IAAAA,EAAYa,SAAS6B,eAAe,eAAeC,QAQnDsB,EAAQpD,SAAS6B,eAAe,WAGhCwB,EAAYrD,SAAS6B,eAAe,aAGpCyB,EAAatD,SAASX,cAAc,gBAG1CgE,EAAUE,QAAU,WAChBH,EAAMvE,MAAMC,QAAU,SAI1BwE,EAAWC,QAAU,WACjBH,EAAMvE,MAAMC,QAAU,QAI1BT,OAAOkF,QAAU,SAAUC,GACnBA,EAAMC,QAAUL,IAChBA,EAAMvE,MAAMC,QAAU,SAK9BkB,SAAS6B,eAAe,oBAAoBlD,iBAAiB,SAAU,WAC9D8D,KAAAA,MAAQ,KAAKiB,QAAQ,KAAKC,eAAelB,QAGlDzC,SAAS6B,eAAe,gBAAgBlD,iBAAiB,QAAS,WAC9DiF,MApCQ,YAoCG,CACPC,QAAS,CACK,OAAA,mBACM,eAAA,oBAEpBC,OAAQ,OAERC,KAAMlD,KAAKC,UAAU,CACjBrB,KAAMO,SAAS6B,eAAe,iBAAiBY,MAC/C9C,MAAOK,SAAS6B,eAAe,kBAAkBY,MACjD/C,QAASM,SAAS6B,eAAe,oBAAoBY,MACrDuB,YAAahE,SAAS6B,eAAe,wBAAwBY,UAElEwB,KAAK,SAACC,GACEA,OAAAA,EAAIC,SACZF,KACC,WAAMb,OAAAA,EAAMvE,MAAMC,QAAU,WAIhC6B,IAAAA,EAAe,GAEfC,aAAaD,eACbA,EAAeE,KAAKuD,MAAMxD,aAAaD,eAG3CX,SAAS6B,eAAe,eAAelD,iBAAiB,QAAS,WAAM,OAAA,EAASgC,EAAAA,UAAAA,KAChFX,SAASX,cAAc,mBAAmBV,iBAAiB,QAAS,WAAM,OAAA,EAAN,EAAA,eAGpEiF,MAlEY,aAmEPK,KACG,SAACI,GAC2B,MAApBA,EAASC,OAIbD,EAASF,OAAOF,KAAK,SAACM,GAElBA,EAAKlE,QAAQ,SAACmE,GACVxE,SAASX,cAAc,SAAS0C,OAAO/B,SAASgC,YAAW,EAAgB7C,EAAAA,iBAAAA,EAAWqF,IAAQ,MAMnFxE,EAAAA,SAASyE,iBAAiB,UAGpCpE,QAAQ,SAAUqE,GACnBA,EAAK/F,iBAAiB,QAAS,WACvBgG,IAAAA,EAAMC,SAAS,KAAKC,uBAAuBtC,aAAa,UACvDsC,KAAAA,uBAAuBvF,aAAa,QAASqF,EAAM,OAMhD3E,EAAAA,SAASyE,iBAAiB,WAEpCpE,QAAQ,SAACqE,GACXA,EAAK/F,iBAAiB,QAAS,WACvBgG,IAAAA,EAAMC,SAAS,KAAKE,mBAAmBvC,aAAa,UACnDuC,KAAAA,mBAAmBxF,aAAa,QAASqF,EAAM,OAK/CxE,MAAMC,KAAKJ,SAAS+E,uBAAuB,YACnD1E,QAAQ,SAAU2E,GACnBA,EAAIrG,iBAAiB,QAAS,SAAUyD,IAC5BA,EAAAA,EAAAA,SAAAA,EAAEqB,OAAOnB,WAAWA,WAAWjD,cAAc,mBAC7C+C,EAAAA,EAAAA,SAAAA,EAAEqB,OAAOnB,WAAWA,WAAWjD,cAAc,UACrD+C,EAAEqB,OAAO5E,MAAMC,QAAU,OACzBsD,EAAEqB,OAAOnB,WAAWjD,cAAc,mBAAmBR,MAAMC,QAAU,QACrEsD,EAAEqB,OAAOnB,WAAWzD,MAAMqE,IAAM,UAIxB/C,MAAMC,KAAKJ,SAAS+E,uBAAuB,WACnD1E,QAAQ,SAAU4E,GACtBA,EAAOtG,iBAAiB,QAAS,SAAUyD,IAChCA,EAAAA,EAAAA,QAAAA,EAAEqB,OAAOnB,WAAWA,WAAWjD,cAAc,mBAC7C+C,EAAAA,EAAAA,QAAAA,EAAEqB,OAAOnB,WAAWA,WAAWjD,cAAc,UACpD+C,EAAEqB,OAAOnB,WAAWjD,cAAc,YAAYR,MAAMC,QAAU,QAC9DsD,EAAEqB,OAAOnB,WAAWjD,cAAc,mBAAmBR,MAAMC,QAAU,OACrEsD,EAAEqB,OAAOnB,WAAWzD,MAAMqE,IAAM,UAI1B/C,MAAMC,KAAKJ,SAAS+E,uBAAuB,gBA8EnD1E,QAAQ,SAAU6E,GACpBA,EAAKvG,iBAAiB,QAAS,SAAUyD,GAEjCC,IAAAA,EAAUD,EAAEqB,OAAOnB,WAAWA,WAC9B6C,GAAI,EAAW/C,EAAAA,YAAAA,EAAEqB,QAIhB,IAAA,IAAI2B,KAFTrE,QAAQC,IAAIL,GAEEA,EACNA,GAAAA,EAAayE,GAAGjE,IAAMgE,EAAE5F,GAGxB,OAFAoB,EAAayE,GAAGhE,SAAWwD,SAASjE,EAAayE,GAAGhE,UAAYwD,SAASO,EAAE3C,eAClE7B,EAAAA,EAAAA,UAAAA,GAabnC,IAAAA,EAAO,IAAI6C,EAAJ,QAAY8D,EAAE5F,GAAI4F,EAAE1F,KAAM0F,EAAExF,MAAOwF,EAAE3C,SAAU2C,EAAEzF,SAE5DiB,EAAaqC,KAAKxE,IACTmC,EAAAA,EAAAA,UAAAA,GAGL0E,IAAAA,EAAYhD,EAAQhD,cAAc,OAElCgG,GAAAA,EAAW,CACPC,IAAAA,EAAWD,EAAUE,WAAU,GACnCD,EAAS7G,UAAUC,IAAI,cACvBsB,SAAS+D,KAAKyB,YAAYF,GAE1BjD,EAAQC,WAAWA,WAAWjD,cAAc,oBAAoBR,MAAM4G,UAAY,kBAClFpD,EAAQC,WAAWA,WAAWjD,cAAc,iBAAiBZ,UAAUC,IAAI,mBAE3E4G,EAASI,QAAQ,CAAC,CACVD,WAAW,EAAWJ,EAAAA,YAAAA,IAE1B,CACII,WAAW,EAAWzF,EAAAA,YAAAA,SAASX,cAAc,gBAAiB,IAAM,8CAEzE,CACCsG,SAAU,MACXC,SAAW,WACVN,EAASvG,SACTsD,EAAQC,WAAWA,WAAWjD,cAAc,oBAAoBR,MAAM4G,UAAY,iBAC3EpD,EAAAA,EAAAA,QAAAA,EAAQhD,cAAc,mBACtBgD,EAAAA,EAAAA,QAAAA,EAAQhD,cAAc,UAC7B+C,EAAEqB,OAAOnB,WAAWjD,cAAc,YAAYR,MAAMC,QAAU,QAC9DsD,EAAEqB,OAAOnB,WAAWjD,cAAc,mBAAmBR,MAAMC,QAAU,OACrEsD,EAAEqB,OAAOnB,WAAWzD,MAAMqE,IAAM,YAQhDlD,SAASX,cAAc,eAAeV,iBAAiB,QAAS,WAC5DiC,aAAaiF,WAAW,gBACxB7F,SAASX,cAAc,eAAeuC,UAAY,GAClDjB,EAAe,IACf,EAAA,EAAA,iBAGJX,SAASX,cAAc,eAAeV,iBAAiB,QAAS,SAACyD,GACzDA,GAAAA,EAAEqB,QAAUrB,EAAEqB,OAAOqC,QAAQ,gBAAiB,CAC1CtB,IAAAA,EAAQpC,EAAEqB,OAAOnB,WAAWjD,cAAc,kBAAkBkD,aAAa,MAC7E5B,EAAaoF,OAAOpF,EAAaqF,QAAQrF,EAAasF,KAAK,SAAAC,GAAKA,OAAAA,EAAE/E,KAAOqD,KAAS,GAClFpC,EAAEqB,OAAOnB,WAAWvD,UACX4B,EAAAA,EAAAA,UAAAA,IACT,EAAA,EAAA,kBAEL,KApNHI,QAAQC,IAAI,gDAAkDqD,EAASC,UAuNlF6B,MAAM,SAAUC,GACbrF,QAAQC,IAAI,kBAAmBoF,KAnS3C;;ACnBA,aACA,QAAA,qBAIA,QAAA","file":"js.2e1f9d33.js","sourceRoot":"../src","sourcesContent":["\"use strict\";\n\nfunction raf(fn) {\n    window.requestAnimationFrame(function () {\n        window.requestAnimationFrame(function () {\n            fn();\n        });\n    });\n}\n\n\nfunction fadeOut(item) {\n    let hendler = function () {\n        item.style.display = 'none';\n        item.classList.remove('fade-active');\n        item.removeEventListener('transitionend', hendler);\n    };\n    item.classList.add('fade-active');\n    item.addEventListener('transitionend', hendler);\n}\n\nfunction fadeIn(item) {\n    let hendler = function () {\n        item.classList.remove('fade-active');\n        item.removeEventListener('transitionend', hendler);\n    };\n    item.style.display = 'block';\n    item.classList.add('fade');\n\n    raf(function () {\n        item.classList.add('fade-passive');\n        item.classList.remove('fade');\n    });\n\n    item.addEventListener('transitionend', hendler);\n}\n\nfunction makeProductItem($template, product) {\n    $template.querySelector('.product').setAttribute('productId', product.id);\n    $template.querySelector('.product-name').textContent = product.name;\n    $template.querySelector('img').setAttribute('src', \"images/\"+ product.picture);\n    $template.querySelector('img').setAttribute('alt', product.name);\n    $template.querySelector('.product-detail').setAttribute('alt', product.name);\n    $template.querySelector('.product-price').textContent = '$'+product.price;\n    return $template;\n}\n\nfunction updateTotal() {\n    var quantities = 0,\n    total = 0,\n    $cartTotal = document.querySelector('.cart-total span'),\n    items = document.querySelector('.cart-items').children;\n    Array.from(items).forEach(function (item) {\n        total += parseFloat(item.querySelector('.item-prices').textContent);\n    });\n    $cartTotal.textContent = parseFloat(Math.round(total * 100) / 100).toFixed(2);\n\n}\n\n\nfunction saveCart(shoppingCart) {\n    // Store data\n    localStorage.shoppingCart = JSON.stringify(shoppingCart);\n    console.log(JSON.stringify(shoppingCart));\n}\n\nfunction productInCart(template, item) {\n    template.querySelector('.productInCart').setAttribute('id', item.Id);\n    template.querySelector('.item-quantity').textContent = item.Quantity;\n    template.querySelector('.item-name').textContent = item.Product;\n    template.querySelector('.item-price').textContent = item.Price;\n    template.querySelector('.item-prices').textContent = parseFloat(item.Quantity) * parseFloat(item.Price.trim().substring(1));\n    template.querySelector('.item-img img').setAttribute('src', item.Picture);\n    return template;\n}\n\nfunction showCart(shoppingCart) {\n    if (shoppingCart.length == 0) {\n        console.log(\"Your Shopping Cart is Empty!\");\n        return;\n    }\n    document.querySelector(\".cart-items\").innerHTML = '';\n    shoppingCart.forEach(function (item) {\n        let template = document.getElementById(\"cartItem\").content;\n        productInCart(template, item);\n        document.querySelector(\".cart-items\").append(document.importNode(productInCart(template, item), true));\n    });\n    updateTotal();\n}\n\nfunction openCart(shoppingCart) {\n    showCart(shoppingCart);\n    document.querySelector(\".aside\").classList.add(\"open\");\n    document.querySelector(\".backdrop\").classList.add(\"backdrop--open\");\n}\n\nfunction closeCart() {\n    document.querySelector(\".aside\").classList.remove(\"open\");\n    document.querySelector(\".backdrop\").classList.remove(\"backdrop--open\");\n}\n\nfunction getElement(e) {\n    let element = e.parentNode.parentNode;\n    \n    return {\n        id: element.getAttribute(\"productId\"),\n        price:e.parentNode.querySelector(\".product-price\").textContent,\n        name:element.querySelector(\".product-name\").textContent,\n        quantity:element.querySelector(\".quantity\").value,\n        picture:element.querySelector(\"img\").getAttribute('src')\n\t}\n    \n}\n\nfunction _translate(img, offset=0){\n    let rect = img.getBoundingClientRect();\n    let elements = ['translate3D('];\n    elements.push(rect.left - offset + 'px,');\n    elements.push(rect.top - offset + 'px,0)');\n    return elements.join('');\n}\n\nexport { fadeOut, fadeIn, makeProductItem, openCart, closeCart, saveCart, getElement, _translate, updateTotal };","\"use strict\";\n\n// export function  Product (id, name, price, quantity, picture) {\n//     this.Id = id;\n//     this.Product = name;\n//     this.Price = price;\n//     this.Quantity = quantity;\n//     this.Picture = picture;\n// }\n\nexport class Product {\n    constructor(id, name, price, quantity, picture) {\n        this.Id = id;\n        this.Product = name;\n        this.Price = price;\n        this.Quantity = quantity;\n        this.Picture = picture;\n    }\n}","\"use strict\";\n\nimport {\n    fadeOut,\n    fadeIn,\n    makeProductItem,\n    openCart,\n    closeCart,\n    saveCart,\n    getElement,\n    _translate,\n    updateTotal\n} from './app.functions';\n\nimport {\n    Product\n} from './Product';\n\n// ---------------------------------------------------------------------------------\n(function () {\n    // Контент шаблона\n    const $template = document.getElementById(\"productItem\").content;\n\n    // const url = 'http://localhost:3000/products';\n    const url = '/api/shop';\n\n\n\n    // Get the modal\n    const modal = document.getElementById('myModal');\n\n    // Get the button that opens the modal\n    const openModal = document.getElementById(\"openModal\");\n\n    // Get the <span> element that closes the modal\n    const closeModal = document.querySelector(\".close-modal\");\n\n    // When the user clicks the button, open the modal \n    openModal.onclick = function () {\n        modal.style.display = \"block\";\n    };\n\n    // When the user clicks on <span> (x), close the modal\n    closeModal.onclick = function () {\n        modal.style.display = \"none\";\n    };\n\n    // When the user clicks anywhere outside of the modal, close it\n    window.onclick = function (event) {\n        if (event.target == modal) {\n            modal.style.display = \"none\";\n        }\n    };\n   \n   \n    document.getElementById('product--picture').addEventListener('change', function() {\n        this.value = this.options[this.selectedIndex].value;\n    });\n\n    document.getElementById(\"save-product\").addEventListener('click', () => {\n        fetch(url, {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            method: \"POST\",\n            \n            body: JSON.stringify({\n                name: document.getElementById('product--name').value,\n                price: document.getElementById('product--price').value,\n                picture: document.getElementById('product--picture').value,\n                description: document.getElementById('product--description').value\n            })\n        }).then((res)=> { \n            return res.json(); \n        }).then(\n            () => modal.style.display = \"none\"\n        );\n    });\n    \n    var shoppingCart = [];\n\n    if (localStorage.shoppingCart) {\n        shoppingCart = JSON.parse(localStorage.shoppingCart);\n    }\n\n    document.getElementById(\"cart-toggle\").addEventListener('click', () => openCart(shoppingCart));\n    document.querySelector(\".toggle-sidebar\").addEventListener('click', () => closeCart());\n\n\n    fetch(url)\n        .then(\n            (response) => {\n                if (response.status !== 200) {\n                    console.log('Looks like there was a problem. Status Code: ' + response.status);\n                    return;\n                }\n                response.json().then((data) => {\n\n                    data.forEach((index) => {\n                        document.querySelector('.main').append(document.importNode(makeProductItem($template, index), true));\n                    });\n\n                    // let plus = document.getElementsByClassName('plus');\n                    // plus = Array.prototype.slice.call(plus); // теперь plus - массив\n\n                    let plus = [...document.querySelectorAll('.plus')];\n                    // Array.isArray(plus); // true\n\n                    plus.forEach(function (elem) {\n                        elem.addEventListener('click', function () {\n                            let val = parseInt(this.previousElementSibling.getAttribute('value'));\n                            this.previousElementSibling.setAttribute('value', val + 1);\n                        });\n                    });\n\n                    // let minus = document.getElementsByClassName('minus');\n                    // minus = Array.prototype.slice.call(minus); // теперь minus - массив\n                    let minus = [...document.querySelectorAll('.minus')];\n\n                    minus.forEach((elem) => {\n                        elem.addEventListener('click', function () {\n                            let val = parseInt(this.nextElementSibling.getAttribute('value'));\n                            this.nextElementSibling.setAttribute('value', val - 1);\n                        });\n                    });\n\n\n                    const byes = Array.from(document.getElementsByClassName('buy-now'));\n                    byes.forEach(function (buy) {\n                        buy.addEventListener('click', function (e) {\n                            fadeOut(e.target.parentNode.parentNode.querySelector('.product-name'));\n                            fadeOut(e.target.parentNode.parentNode.querySelector('.icon'));\n                            e.target.style.display = 'none';\n                            e.target.parentNode.querySelector('.product-detail').style.display = 'block';\n                            e.target.parentNode.style.top = '40%';\n                        });\n                    });\n\n                    const cancels = Array.from(document.getElementsByClassName('cancel'));\n                    cancels.forEach(function (cancel) {\n                        cancel.addEventListener('click', function (e) {\n                            fadeIn(e.target.parentNode.parentNode.querySelector('.product-name'));\n                            fadeIn(e.target.parentNode.parentNode.querySelector('.icon'));\n                            e.target.parentNode.querySelector('.buy-now').style.display = 'block';\n                            e.target.parentNode.querySelector('.product-detail').style.display = 'none';\n                            e.target.parentNode.style.top = '80%';\n                        });\n                    });\n                    // ==================================================================\n                    const carts = Array.from(document.getElementsByClassName('add-to-cart'));\n\n                    // carts.forEach(function (cart) {\n                    //     cart.addEventListener('click', function (e) {\n                    //         let element = e.target.parentNode.parentNode;\n                    //         let id = element.getAttribute(\"productId\");\n                    //         let price = e.target.parentNode.querySelector(\".product-price\").textContent;\n                    //         let name = element.querySelector(\".product-name\").textContent;\n                    //         let quantity = element.querySelector(\".quantity\").value;\n                    //         let picture = element.querySelector(\"img\").getAttribute('src');\n\n                    //         for (let i in shoppingCart) {\n                    //             if (shoppingCart[i].Id == id) {\n                    //                 shoppingCart[i].Quantity = parseInt(shoppingCart[i].Quantity) + parseInt(quantity);\n                    //                 saveCart(shoppingCart);\n                    //                 return;\n                    //             }\n                    //         }\n\n                    //         let item = {\n                    //             Id: id,\n                    //             Product: name,\n                    //             Price: price,\n                    //             Quantity: quantity,\n                    //             Picture: picture\n                    //         };\n\n                    //         shoppingCart.push(item);\n                    //         saveCart(shoppingCart);\n\n                    //         // Поиск элемента с заданным номером\n                    //         var imgToDrag = e.target.parentNode.parentNode.querySelector(\"img\");\n\n                    //         let rectOrigin = imgToDrag.getBoundingClientRect();\n                    //         let toLeftStart = rectOrigin.left + 'px';\n                    //         let toTopStart = rectOrigin.top + 'px';\n                    //         console.log(toLeftStart, toTopStart);\n\n                    //         if (imgToDrag) {\n                    //             var imgClone = imgToDrag.cloneNode(true);\n                    //             imgClone.style.left = 0;\n                    //             imgClone.style.top = 0;\n                    //             imgClone.classList.add('offset-img');\n                    //             imgClone.style.height = '150px';\n                    //             imgClone.style.width = '150px';\n                    //             document.body.appendChild(imgClone);\n\n                    //             e.target.parentNode.parentNode.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(180deg)';\n                    //             e.target.parentNode.parentNode.parentNode.parentNode.querySelector('.product-back').classList.add('back-is-visible');\n\n                    //             let rect = document.querySelector('#cart-toggle').getBoundingClientRect();\n                    //             let toLeft = rect.left - 50 + 'px';\n                    //             let toTop = rect.top - 50 + 'px';\n\n                    //             imgClone.animate([{\n                    //                     transform: 'translate3D(' + toLeftStart + ',' + toTopStart + ', 0)'\n                    //                 },\n                    //                 {\n                    //                     transform: 'translate3D(' + toLeft + ',' + toTop + ',0) perspective(500px) scale3d(0.1, 0.1, 0.2)'\n                    //                 },\n                    //             ], {\n                    //                 duration: 2000,\n                    //             }).onfinish = function () {\n                    //                 imgClone.remove();\n                    //                 e.target.parentNode.parentNode.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(0deg)';\n                    //                 fadeIn(e.target.parentNode.parentNode.querySelector('.product-name'));\n                    //                 fadeIn(e.target.parentNode.parentNode.querySelector('.icon'));\n                    //                 e.target.parentNode.querySelector('.buy-now').style.display = 'block';\n                    //                 e.target.parentNode.querySelector('.product-detail').style.display = 'none';\n                    //                 e.target.parentNode.style.top = '80%';\n                    //             };\n                    //         }\n                    //     });\n\n                    // });\n\n                    //===================================================================\n\n                    carts.forEach(function (cart) {\n                        cart.addEventListener('click', function (e) {\n\n                            let element = e.target.parentNode.parentNode;\n                            let o = getElement(e.target);\n\n                            console.log(shoppingCart);\n\n                            for (let i in shoppingCart) {\n                                if (shoppingCart[i].Id == o.id) {\n                                    shoppingCart[i].Quantity = parseInt(shoppingCart[i].Quantity) + parseInt(o.quantity);\n                                    saveCart(shoppingCart);\n                                    return;\n                                }\n                            }\n\n                            // let item = {\n                            //     Id: o.id,\n                            //     Product: o.name,\n                            //     Price: o.price,\n                            //     Quantity: o.quantity,\n                            //     Picture: o.picture\n                            // };\n\n                            let item = new Product(o.id, o.name, o.price, o.quantity, o.picture);\n\n                            shoppingCart.push(item);\n                            saveCart(shoppingCart);\n\n                            // Поиск элемента с заданным номером\n                            var imgToDrag = element.querySelector(\"img\");\n\n                            if (imgToDrag) {\n                                var imgClone = imgToDrag.cloneNode(true);\n                                imgClone.classList.add('offset-img');\n                                document.body.appendChild(imgClone);\n\n                                element.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(180deg)';\n                                element.parentNode.parentNode.querySelector('.product-back').classList.add('back-is-visible');\n\n                                imgClone.animate([{\n                                        transform: _translate(imgToDrag)\n                                    },\n                                    {\n                                        transform: _translate(document.querySelector('#cart-toggle'), 50) + 'perspective(500px) scale3d(0.1, 0.1, 0.2)'\n                                    },\n                                ], {\n                                    duration: 2000,\n                                }).onfinish = function () {\n                                    imgClone.remove();\n                                    element.parentNode.parentNode.querySelector('.product-wrapper').style.transform = 'rotateY(0deg)';\n                                    fadeIn(element.querySelector('.product-name'));\n                                    fadeIn(element.querySelector('.icon'));\n                                    e.target.parentNode.querySelector('.buy-now').style.display = 'block';\n                                    e.target.parentNode.querySelector('.product-detail').style.display = 'none';\n                                    e.target.parentNode.style.top = '80%';\n                                };\n                            }\n                        });\n                    });\n\n                    // =================Очистка всего хранилища================\n\n                    document.querySelector('.clear-cart').addEventListener('click', () => {\n                        localStorage.removeItem('shoppingCart');\n                        document.querySelector('.cart-items').innerHTML = '';\n                        shoppingCart = [];\n                        updateTotal();\n                    });\n\n                    document.querySelector('.cart-items').addEventListener('click', (e) => {\n                        if (e.target && e.target.matches(\".remove-item\")) {\n                            var index = e.target.parentNode.querySelector('.productInCart').getAttribute(\"id\");\n                            shoppingCart.splice(shoppingCart.indexOf(shoppingCart.find(x => x.Id === index)), 1);\n                            e.target.parentNode.remove();\n                            saveCart(shoppingCart);\n                            updateTotal();\n                        }\n                    }, false);\n                });\n            })\n        .catch(function (err) {\n            console.log('Fetch Error :-S', err);\n        });\n\n\n    // ====================================================================\n})();","'use strict';\nimport '../sass/main.scss';\n\n// import './test';\n// import './appjq';\nimport './app';\n\n"]}